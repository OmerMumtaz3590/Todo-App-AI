# Default values for todo-chatbot Helm chart
# Phase IV: Cloud-Native Local Deployment

# =============================================================================
# Backend Configuration
# =============================================================================
backend:
  image:
    repository: todo-backend
    tag: local
    pullPolicy: IfNotPresent

  replicas: 1

  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

  service:
    type: ClusterIP
    port: 8000

  # Health probes (DIS-014)
  livenessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# =============================================================================
# Frontend Configuration
# =============================================================================
frontend:
  image:
    repository: todo-frontend
    tag: local
    pullPolicy: IfNotPresent

  replicas: 1

  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

  service:
    type: ClusterIP
    port: 3000

  # Health probes (DIS-014)
  livenessProbe:
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 15
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# =============================================================================
# Secrets (DIS-020: Kubernetes Secrets for sensitive values)
# Override these in a separate secrets.yaml file (gitignored)
# =============================================================================
secrets:
  # Required: Neon PostgreSQL connection string
  databaseUrl: ""

  # Required: JWT signing key (minimum 32 characters)
  secretKey: ""

  # Required: OpenAI API key for AI agents
  openaiApiKey: ""

# =============================================================================
# ConfigMap (non-sensitive configuration)
# =============================================================================
config:
  appName: "Todo API"
  debug: "false"
  algorithm: "HS256"
  accessTokenExpireMinutes: "1440"
  corsOrigins: '["http://localhost:3000","http://todo-frontend:3000"]'

# =============================================================================
# Ingress Configuration (Optional)
# =============================================================================
ingress:
  enabled: false
  className: nginx
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  host: todo.local
  tls: []
  #  - secretName: todo-tls
  #    hosts:
  #      - todo.local

# =============================================================================
# Common Settings
# =============================================================================
nameOverride: ""
fullnameOverride: ""

# Pod annotations (optional)
podAnnotations: {}

# Node selector (optional)
nodeSelector: {}

# Tolerations (optional)
tolerations: []

# Affinity (optional)
affinity: {}
